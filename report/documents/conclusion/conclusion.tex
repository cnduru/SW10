\chapter{Conclusion}
In this report an overview of the \jc platform as well as attacks and countermeasures, aimed at the platform is presented. The primary focus is on bit flips, and how they can affect static and running behaviour of programs.\\\\
% %
Our previous work~\cite{javasec} argued that it is difficult to measure and compare the effectiveness of countermeasures. We have tried to offer a solution to this problem by providing an automated approach for converting Java bytecode to UPPAAL SMC models, which allows us to test properties of a model, in its query language. We present an approach to model all major features of the Java bytecode language in UPPAAL. Our solution has some limitations, however. For example, it does not allow recursive calls and flips in method identifiers, which could be interesting to investigate in regards to countermeasures, e.g. causing endless recursion. The logic in our model conversion is based on \jcl semantics, which we have expanded upon with additional rules.\\\\
% %
We have based our conversion on the Java static analysis tool \textit{Sawja}'s native Java bytecode representation. In extension, we have investigated its call graph generation functionality, which is useful for automatic implementation of control flow based countermeasures.\\\\
% %
%Experiments
In our experiments, we used our tool to construct models based on two code samples, and four fault models. Three fault injection countermeasures were also modelled for each code sample, and UPPAAL queries were then used to assess various properties of the models which has given us a basis for comparison of the countermeasures. A proof of concept instruction fault model was also modelled in UPPAAL for a few instructions, such as \texttt{ifeq} and \texttt{goto}.\\\\
% %
We have shown that it is possible to automatically generate UPPAAL models of Java programs, and use UPPAAL's query language to verify security properties of the programs. Additionally, we have extended the models to include fault models, to evaluate the programs' vulnerabilities to fault attacks.
\section{Future Work}

%inst fault, %Javacard inst bit encoding
%parameter fault etc

%multi path in program
% %
The fault models should be extended by adding new fault models, to enable better assessment of countermeasures, for example control flow based countermeasures, such as call graph integrity. In addition, an analysis could be made to determine each attack's probability of success, relative to the other's, to aid in countermeasure selection. This would allow us to compare the fault models in terms of attack difficulty, which could be used in the selection of an appropriate countermeasure. Similarly, bit flips could be excluded from methods only being run at the manufacturer or vendor, such as the \texttt{install} method.\\\\
% %
Additionally, further exploration of $Sawja$'s static analysis capabilities could prove useful in assessing countermeasures. We have not created a fault model for bit flips in the constant pool since $Sawja$'s bytecode representation hides the constant pool implementation. Since the constant pool has potential for allowing attacks, it would make sense to look into this.\\\\
% %
More experimentation could be done to investigate which UPPAAL representation is most appropriate. For example, a single template approach where an entire program is modelled in one template, would simplify  the implementation of invoke and bit flips in the method identifier. The current modelling and their consequent experiments only take single bit flips into account, this could be extended to include multiple bit flips, as malicious attackers could utilise more than a single bit flip to attack an applet.