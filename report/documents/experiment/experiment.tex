\chapter{Experiments}
In order to determine whether the implemented countermeasures do indeed provide improved protection against bit flips, compared to unprotected code, experiments are needed. These are performed with the modelling tool UPPAAL, which is described in \cref{chap:upp}.\\\\
In this chapter, experimental results are presented to confirm that implementing code duplication and call graph integrity countermeasures, \cref{sub:faultCounter}, makes Java code more and not less secure. The experiments will be performed on code which has no countermeasures implemented from the \jc samples.\ch{explain why we chose flip in ifeq and why it might be safer to use ifneq (goto)}
%, shown in \cref{lst:exUnmod}. 
%A bit flip inverts the comparison and the code in \cref{lst:exMod} is the result. The countermeasures are implemented on this, modified, code.\ch{}
%\begin{lstlisting}[label={lst:exUnmod}, caption=Purse code sample from the \jc samples.]
%if (USERPIN.isValidated)
%{
%}
%\end{lstlisting}
%
%\begin{lstlisting}[label={lst:exMod}, caption=Purse code sample from the \jc samples with a bit flipped to change the comparison.]
%if (!USERPIN.isValidated)
%{
%}
%\end{lstlisting}
\section{Setup}
\input{documents/experiment/setup}
\section{Code Duplication}
\input{documents/experiment/codedup}
\section{Call Graph Integrity}
%Opstack pointer assumption is broken\\\\
%Inst fault og Instruction Differentiation\\\\
%Code dub\\\\
%Call graph integrity\\\\
